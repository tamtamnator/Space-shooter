<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>First-Person Alien Shooter</title>
  <style>
    html, body {
      margin: 0;
      overflow: hidden;
      background: black;
      touch-action: none;
    }

    canvas {
      display: block;
    }

    #score {
      position: absolute;
      top: 10px;
      left: 10px;
      color: white;
      font-family: monospace;
      font-size: 24px;
      z-index: 10;
    }

    #target {
      position: absolute;
      width: 40px;
      height: 40px;
      background: url('https://i.imgur.com/fH2hV3V.png') no-repeat center;
      background-size: contain;
      pointer-events: none;
      z-index: 11;
    }
  </style>
</head>
<body>
<div id="score">Punkte: 0</div>
<div id="target"></div>
<canvas id="gameCanvas"></canvas>

<script>
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const scoreEl = document.getElementById('score');
  const targetEl = document.getElementById('target');

  let score = 0;
  const aliens = [];

  const alienImg = new Image();
  alienImg.src = 'https://i.imgur.com/IUe3X5K.png'; // Alien-Bild

  // SchieÃŸt bei Touch oder Klick
  function shoot(x, y) {
    for (let i = aliens.length - 1; i >= 0; i--) {
      const a = aliens[i];
      if (x > a.x && x < a.x + a.size && y > a.y && y < a.y + a.size) {
        aliens.splice(i, 1);
        score++;
        scoreEl.textContent = 'Punkte: ' + score;
        return;
      }
    }
  }

  canvas.addEventListener('touchstart', e => {
    const touch = e.touches[0];
    moveTarget(touch.clientX, touch.clientY);
    shoot(touch.clientX, touch.clientY);
  });

  canvas.addEventListener('touchmove', e => {
    const touch = e.touches[0];
    moveTarget(touch.clientX, touch.clientY);
  });

  canvas.addEventListener('mousedown', e => shoot(e.clientX, e.clientY));
  canvas.addEventListener('mousemove', e => moveTarget(e.clientX, e.clientY));

  function moveTarget(x, y) {
    targetEl.style.left = x - 20 + 'px';
    targetEl.style.top = y - 20 + 'px';
  }

  function spawnAlien() {
    const size = 60 + Math.random() * 40;
    aliens.push({
      x: Math.random() * (canvas.width - size),
      y: -size,
      size: size,
      speed: 2 + Math.random() * 3
    });
  }

  function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let i = aliens.length - 1; i >= 0; i--) {
      const a = aliens[i];
      a.y += a.speed;
      ctx.drawImage(alienImg, a.x, a.y, a.size, a.size);
      if (a.y > canvas.height) aliens.splice(i, 1);
    }
  }

  function gameLoop() {
    update();
    requestAnimationFrame(gameLoop);
  }

  setInterval(spawnAlien, 1000);
  alienImg.onload = () => gameLoop();
</script>
</body>
</html>
